(function(e){function t(t){for(var r,i,o=t[0],c=t[1],l=t[2],m=0,d=[];m<o.length;m++)i=o[m],s[i]&&d.push(s[i][0]),s[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(d.length)d.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,o=1;o<n.length;o++){var c=n[o];0!==s[c]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},s={app:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("64a9"),s=n.n(r);s.a},"21c3":function(e,t,n){"use strict";var r=n("73a3"),s=n.n(r);s.a},"56d7":function(e,t,n){"use strict";n.r(t);n("744f"),n("6c7b"),n("7514"),n("20d6"),n("1c4c"),n("6762"),n("cadf"),n("e804"),n("55dd"),n("d04f"),n("c8ce"),n("217b"),n("7f7f"),n("f400"),n("7f25"),n("536b"),n("d9ab"),n("f9ab"),n("32d7"),n("25c9"),n("9f3c"),n("042e"),n("c7c6"),n("f4ff"),n("049f"),n("7872"),n("a69f"),n("0b21"),n("6c1a"),n("c7c62"),n("84b4"),n("c5f6"),n("2e37"),n("fca0"),n("7cdf"),n("ee1d"),n("b1b1"),n("87f3"),n("9278"),n("5df2"),n("04ff"),n("f751"),n("4504"),n("fee7"),n("ffc1"),n("0d6d"),n("9986"),n("8e6e"),n("25db"),n("e4f7"),n("b9a1"),n("64d5"),n("9aea"),n("db97"),n("66c8"),n("57f0"),n("165b"),n("456d"),n("cf6a"),n("fd24"),n("8615"),n("551c"),n("097d"),n("df1b"),n("2397"),n("88ca"),n("ba16"),n("d185"),n("ebde"),n("2d34"),n("f6b3"),n("2251"),n("c698"),n("a19f"),n("9253"),n("9275"),n("3b2b"),n("3846"),n("4917"),n("a481"),n("28a5"),n("386d"),n("6b54"),n("4f7f"),n("8a81"),n("ac4d"),n("8449"),n("9c86"),n("fa83"),n("48c0"),n("a032"),n("aef6"),n("d263"),n("6c37"),n("9ec8"),n("5695"),n("2fdb"),n("d0b0"),n("5df3"),n("b54a"),n("f576"),n("ed50"),n("788d"),n("14b9"),n("f386"),n("f559"),n("1448"),n("673e"),n("242a"),n("c66f"),n("b05c"),n("34ef"),n("6aa2"),n("15ac"),n("af56"),n("b6e4"),n("9c29"),n("63d9"),n("4dda"),n("10ad"),n("c02b"),n("4795"),n("130f"),n("ac6a"),n("96cf");var r=n("2b0e"),s=(n("bf40"),n("ce5b")),a=n.n(s);r["default"].use(a.a,{theme:{primary:"#009FDA",secondary:"#BABDBA",accent:"#002664",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"},iconfont:"mdi"});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-toolbar",{attrs:{app:"","extension-height":"7px"}},[n("v-toolbar-title",{staticClass:"headline text-uppercase"},[n("span",{staticClass:"accent--text"},[e._v("KST")]),n("span",{staticClass:"primary--text font-weight-light"},[e._v("INPRO")])]),n("v-spacer"),e._l(e.items,function(t,r){var s=t.text,a=t.to;return n("v-btn",{key:r,staticClass:"hidden-sm-and-down",attrs:{to:a,flat:"",color:"primary"},domProps:{textContent:e._s(s)}})}),n("v-menu",{staticClass:"hidden-md-and-up",attrs:{bottom:"",left:""}},[n("v-btn",{attrs:{slot:"activator",dark:"",icon:""},slot:"activator"},[n("v-icon",{attrs:{color:"accent"}},[e._v("mdi-dots-vertical")])],1),n("v-list",e._l(e.items,function(t,r){var s=t.text,a=t.to;return n("v-list-tile",{key:r},[n("v-list-tile-content",[n("v-btn",{staticStyle:{"white-space":"nowrap"},attrs:{to:a,block:"",flat:"",color:"primary"},domProps:{textContent:e._s(s)}})],1)],1)}))],1),n("v-progress-linear",{directives:[{name:"show",rawName:"v-show",value:e.progress.show,expression:"progress.show"}],staticClass:"ma-0",attrs:{slot:"extension",indeterminate:!0===e.progress.indeterminate,value:e.progress.value,color:"accent"},slot:"extension"}),n("v-alert",{staticClass:"mt-0",staticStyle:{position:"absolute",width:"100%",top:"7px"},attrs:{slot:"extension",type:e.alert.type,dismissible:"",transition:"fade-transition"},slot:"extension",model:{value:e.alert.show,callback:function(t){e.$set(e.alert,"show",t)},expression:"alert.show"}},[e._v("\n      "+e._s(e.alert.text)+"\n    ")])],2),n("v-content",[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view")],1)],1)],1)},o=[];function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){l(e,t,n[t])})}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={name:"App",data:function(){return{rawItems:[{text:"home",to:{name:"home"}},{text:"cars",to:{name:"cars"}},{text:"administration",to:{name:"administration"}},{text:"login",to:{name:"login"}},{text:"logout",to:{name:"logout"}}]}},computed:{allowedRouteNames:function(){return this.$store.getters.allowedRouteNames},items:function(){var e=this;return this.rawItems.filter(function(t){return e.allowedRouteNames.includes(t.to.name)}).map(function(t){return c({},t,{text:e.$t(t.text)})})},progress:function(){var e=this.$store.state.working;return{show:!1!==e,indeterminate:!0===e,value:"number"===typeof e?e:0}},alert:function(){return this.$store.state.alert}}},m=u,d=(n("034f"),n("2877")),f=Object(d["a"])(m,i,o,!1,null,null,null);f.options.__file="App.vue";var p=f.exports,h=n("8c4f"),v=n("2f62");r["default"].use(v["a"]);var x=new v["a"].Store({state:{role:null,working:!1,alert:{show:!1,text:"",type:"info"}},mutations:{setRole:function(e,t){e.role=t},setWorking:function(e,t){e.working=t},setAlert:function(e,t){var n=t.type,r=t.text;e.alert={show:!0,type:n,text:r}},clearAlert:function(e){e.alert.show=!1}},getters:{allowedRouteNames:function(e){var t=["logout","home"];switch(e.role){case"admin":return t.concat(["cars","administration"]);case"externalUser":return t.concat(["home"]);case"manager":return t.concat(["cars"]);case"serviceTechnician":return t.concat();default:return["login"]}}}}),b=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},w=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"about"},[n("h1",[e._v("This is an about page")])])}],y={},g=Object(d["a"])(y,b,w,!1,null,null,null);g.options.__file="About.vue";var _=g.exports,k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ItemGrid",{attrs:{xhrs:e.xhrs,"new-item":e.newItem,"i18n-key":"user","id-prop":"userId"},scopedSlots:e._u([{key:"headline",fn:function(t){var n=t.item;return[e._v("\n    "+e._s(n.firstName+" "+n.lastName)+"\n  ")]}},{key:"default",fn:function(t){var r=t.item;return[n("dl",[n("dt",[e._v(e._s(e.$t("email")))]),n("dd",[e._v(e._s(r.email))]),n("dt",[e._v(e._s(e.$t("role")))]),n("dd",[e._v(e._s(r.role.name))])])]}},{key:"edit",fn:function(e){var t=e.item,r=e.itemCb,s=e.show,a=e.showCb;return[n("UserDialog",{ref:"dialog",attrs:{value:t,show:s},on:{input:r,show:a}})]}}])})},$=[],O=n("a34a"),C=n.n(O),j=n("bc3a"),P=n.n(j);function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){I(e,t,n[t])})}return e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e,t,n,r,s,a,i){try{var o=e[a](i),c=o.value}catch(l){return void n(l)}o.done?t(c):Promise.resolve(c).then(r,s)}function E(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var a=e.apply(t,n);function i(e){T(a,r,s,i,o,"next",e)}function o(e){T(a,r,s,i,o,"throw",e)}i(void 0)})}}function N(e){if(e instanceof Array)return e.map(function(e){return N(e)});if(e instanceof Object){var t={};return Object.keys(e).forEach(function(n){t["".concat(n.slice(0,1).toLowerCase()).concat(n.slice(1))]=N(e[n])}),t}return e}function L(e){if(e instanceof Array)return e.map(function(e){return L(e)});if(e instanceof Object){var t={};return Object.keys(e).forEach(function(n){t["".concat(n.slice(0,1).toUpperCase()).concat(n.slice(1))]=L(e[n])}),t}return e}function A(e){return R.apply(this,arguments)}function R(){return R=E(C.a.mark(function e(t){return C.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,x.commit("clearAlert"),e.next=4,z(t);case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e["catch"](0),x.commit("setAlert",{type:"error",text:e.t0.message}),e.t0;case 11:case"end":return e.stop()}},e,this,[[0,7]])})),R.apply(this,arguments)}var z=P.a.create({baseURL:"https://inpro-evidencenaklvozu.azurewebsites.net/API/"});function D(e,t){return U.apply(this,arguments)}function U(){return U=E(C.a.mark(function e(t,n){var r,s;return C.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,A({method:"get",url:"/car/".concat(t,"/").concat(n)});case 2:return r=e.sent,s=r.data,e.abrupt("return",s);case 5:case"end":return e.stop()}},e,this)})),U.apply(this,arguments)}function Z(e){return J.apply(this,arguments)}function J(){return J=E(C.a.mark(function e(t){return C.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",A({method:"put",url:"/car",headers:{"content-type":"application/json"},data:L(t)}));case 1:case"end":return e.stop()}},e,this)})),J.apply(this,arguments)}function V(e){return W.apply(this,arguments)}function W(){return W=E(C.a.mark(function e(t){var n,r;return C.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,A({method:"post",url:"/car",headers:{"content-type":"application/json"},data:L(t)});case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)})),W.apply(this,arguments)}function q(e){return F.apply(this,arguments)}function F(){return F=E(C.a.mark(function e(t){return C.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",A({method:"delete",url:"/car/".concat(t)}));case 1:case"end":return e.stop()}},e,this)})),F.apply(this,arguments)}function K(e,t){return M.apply(this,arguments)}function M(){return M=E(C.a.mark(function e(t,n){var r,s;return C.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,A({method:"get",url:"/user/".concat(t,"/").concat(n)});case 2:return r=e.sent,s=r.data,e.abrupt("return",s);case 5:case"end":return e.stop()}},e,this)})),M.apply(this,arguments)}function B(e){return H.apply(this,arguments)}function H(){return H=E(C.a.mark(function e(t){var n,r;return C.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,A({method:"post",url:"/user",headers:{"content-type":"application/json"},data:L(t)});case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)})),H.apply(this,arguments)}function G(e){return Y.apply(this,arguments)}function Y(){return Y=E(C.a.mark(function e(t){return C.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",A({method:"put",url:"/user",headers:{"content-type":"application/json"},data:L(t)}));case 1:case"end":return e.stop()}},e,this)})),Y.apply(this,arguments)}function Q(e){return X.apply(this,arguments)}function X(){return X=E(C.a.mark(function e(t){return C.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",A({method:"delete",url:"/user/".concat(t)}));case 1:case"end":return e.stop()}},e,this)})),X.apply(this,arguments)}function ee(e,t,n){return te.apply(this,arguments)}function te(){return te=E(C.a.mark(function e(t,n,r){var s,a,i;return C.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=t.toLowerCase(),e.next=3,A({method:"get",url:"/car/0/100"});case 3:return s=e.sent,a=s.data,i=new Set,e.abrupt("return",a.filter(function(e){try{return!(null==e||i.has(e.carId)||!(e.name.toLowerCase().includes(t)||e.owner.name.toLowerCase().includes(t)||e.serie.name.toLowerCase().includes(t)||e.serviceResponsiblePerson.name.toLowerCase().includes(t)))&&(i.add(e.carId),!0)}catch(n){return!1}}).filter(function(e,t){return t>=n&&t<n+r}));case 7:case"end":return e.stop()}},e,this)})),te.apply(this,arguments)}function ne(e,t,n){return re.apply(this,arguments)}function re(){return re=E(C.a.mark(function e(t,n,r){var s,a,i;return C.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=t.toLowerCase(),e.next=3,A({method:"get",url:"/user/0/100"});case 3:return s=e.sent,a=s.data,i=new Set,e.abrupt("return",a.filter(function(e){try{return!(null==e||i.has(e.userId)||!(e.firstName.toLowerCase().includes(t)||e.lastName.toLowerCase().includes(t)||e.email.toLowerCase().includes(t)||e.role.name.toLowerCase().includes(t)))&&(i.add(e.userId),!0)}catch(n){return!1}}).filter(function(e,t){return t>=n&&t<n+r}));case 7:case"end":return e.stop()}},e,this)})),re.apply(this,arguments)}function se(e){return ae.apply(this,arguments)}function ae(){return ae=E(C.a.mark(function e(t){var n,r,s;return C.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,A({method:"get",url:"/car/0/100"});case 2:return n=e.sent,r=n.data,s=new Set,e.abrupt("return",r.map(function(e){return e.owner}).filter(function(e){return null!=e&&(!s.has(e.subjectId)&&(s.add(e.subjectId),!0))}));case 6:case"end":return e.stop()}},e,this)})),ae.apply(this,arguments)}function ie(e){return oe.apply(this,arguments)}function oe(){return oe=E(C.a.mark(function e(t){var n,r,s;return C.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,A({method:"get",url:"/car/0/100"});case 2:return n=e.sent,r=n.data,s=new Set,e.abrupt("return",r.map(function(e){return e.serie}).filter(function(e){return null!=e&&(!s.has(e.serieId)&&(s.add(e.serieId),!0))}));case 6:case"end":return e.stop()}},e,this)})),oe.apply(this,arguments)}function ce(e){return le.apply(this,arguments)}function le(){return le=E(C.a.mark(function e(t){var n,r,s;return C.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,A({method:"get",url:"/car/0/100"});case 2:return n=e.sent,r=n.data,s=new Set,e.abrupt("return",r.map(function(e){return e.serviceResponsiblePerson}).filter(function(e){return null!=e&&(!s.has(e.subjectId)&&(s.add(e.subjectId),!0))}));case 6:case"end":return e.stop()}},e,this)})),le.apply(this,arguments)}z.interceptors.response.use(function(e){return S({},e,{data:N(e.data)})},function(e){return Promise.reject(e)});var ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{directives:[{name:"scroll",rawName:"v-scroll",value:e.scroll,expression:"scroll"}],class:{"px-0":e.$vuetify.breakpoint.mdAndDown}},[n("v-layout",{attrs:{"text-xs-center":"",wrap:""}},[this.xhrs.searchItems?n("v-flex",{attrs:{xs12:"","py-5":""}},[n("v-text-field",{staticStyle:{"max-width":"600px",margin:"0 auto"},attrs:{solo:"",clearable:""},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.load(!0)},"click:clear":function(){e.search=null,e.load(!0)}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}},[n("v-btn",{attrs:{slot:"append",flat:"",color:"primary"},domProps:{textContent:e._s(e.$t("search"))},on:{click:function(t){e.load(!0)}},slot:"append"})],1)],1):e._e(),e._l(e.items,function(t,r){return n("v-flex",{key:"card_"+e.i18nKey+"_"+r,staticClass:"pa-2",attrs:{"d-flex":"",xs12:"",sm6:"",md4:"",lg3:"",xl2:""}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._t("headline",null,{item:t})],2),n("v-card-text",{staticClass:"text-xs-left"},[e._t("default",null,{item:t})],2),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{flat:"",color:"primary"},domProps:{textContent:e._s(e.$t("edit"))},on:{click:function(t){e.edit(r)}}}),n("v-btn",{attrs:{flat:"",color:"primary"},domProps:{textContent:e._s(e.$t("delete"))},on:{click:function(t){e.remove(r)}}})],1)],1)],1)}),n("v-flex",{staticClass:"pa-5",style:{visibility:e.loading?"visible":"hidden"},attrs:{xs12:""}},[n("v-progress-circular",{attrs:{color:"primary",indeterminate:!0}})],1),e._t("edit",null,{item:e.items[e.index]||e.createNewItem(),itemCb:e.save,show:e.show,showCb:e.editShowCb}),n("v-btn",{attrs:{color:"accent",fixed:"",dark:"",fab:"",bottom:"",right:""},on:{click:function(t){e.edit(e.items.length)}}},[n("v-icon",[e._v("mdi-plus")])],1)],2)],1)},me=[];function de(e){return he(e)||pe(e)||fe()}function fe(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function pe(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function he(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function ve(e,t,n,r,s,a,i){try{var o=e[a](i),c=o.value}catch(l){return void n(l)}o.done?t(c):Promise.resolve(c).then(r,s)}function xe(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var a=e.apply(t,n);function i(e){ve(a,r,s,i,o,"next",e)}function o(e){ve(a,r,s,i,o,"throw",e)}i(void 0)})}}var be={props:{i18nKey:String,idProp:String,newItem:Object,xhrs:Object},data:function(){return{index:-1,items:[],loading:!1,search:null,show:!1}},computed:{itemsPerLoad:function(){switch(this.$vuetify.breakpoint.name){case"xs":return 3;case"sm":return 6;case"md":return 9;case"lg":return 12;case"xl":return 18;default:return 1}}},methods:{edit:function(e){this.index=e,this.show=!0},save:function(){var e=xe(C.a.mark(function e(t){var n,r;return C.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=this.items[this.index],this.$set(this.items,this.index,t),null==t[this.idProp]){e.next=19;break}return e.prev=3,this.$store.commit("setWorking",!0),e.next=7,this.xhrs.putItem(JSON.parse(JSON.stringify(t)));case 7:this.$store.commit("setAlert",{type:"success",text:this.$t("xhrs.".concat(this.i18nKey,".put.success"))}),e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](3),this.$store.commit("setAlert",{type:"error",text:this.$t("xhrs.".concat(this.i18nKey,".put.error"))}),this.$set(this.items,this.items.indexOf(t),n);case 14:return e.prev=14,this.$store.commit("setWorking",!1),e.finish(14);case 17:e.next=35;break;case 19:return e.prev=19,this.$store.commit("setWorking",!0),e.next=23,this.xhrs.postItem(JSON.parse(JSON.stringify(t)));case 23:r=e.sent,t[this.idProp]=r,this.$store.commit("setAlert",{type:"success",text:this.$t("xhrs.".concat(this.i18nKey,".post.success"))}),e.next=32;break;case 28:e.prev=28,e.t1=e["catch"](19),this.$store.commit("setAlert",{type:"error",text:this.$t("xhrs.".concat(this.i18nKey,".post.error"))}),this.$set(this.items,this.items.indexOf(t),n);case 32:return e.prev=32,this.$store.commit("setWorking",!1),e.finish(32);case 35:case"end":return e.stop()}},e,this,[[3,10,14,17],[19,28,32,35]])}));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=xe(C.a.mark(function e(t){var n;return C.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!confirm(this.$t("confirm delete"))){e.next=16;break}return n=this.items.splice(t,1)[0],e.prev=2,this.$store.commit("setWorking",!0),e.next=6,this.xhrs.deleteItem(n[this.idProp]);case 6:this.$store.commit("setAlert",{type:"success",text:this.$t("xhrs.".concat(this.i18nKey,".delete.success"))}),e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](2),this.items.splice(t,0,n),this.$store.commit("setAlert",{type:"error",text:this.$t("xhrs.".concat(this.i18nKey,".delete.error"))});case 13:return e.prev=13,this.$store.commit("setWorking",!1),e.finish(13);case 16:case"end":return e.stop()}},e,this,[[2,9,13,16]])}));return function(t){return e.apply(this,arguments)}}(),load:function(){var e=xe(C.a.mark(function e(t){var n,r,s=this;return C.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.loading=!0,t&&(this.items=[]),e.prev=2,null==this.search||""===this.search){e.next=9;break}return e.next=6,this.xhrs.searchItems(this.search,this.items.length,this.itemsPerLoad);case 6:e.t0=e.sent,e.next=12;break;case 9:return e.next=11,this.xhrs.getItems(this.items.length,this.itemsPerLoad);case 11:e.t0=e.sent;case 12:n=e.t0,n.length&&((r=this.items).push.apply(r,de(n)),window.setTimeout(function(){s.scroll()})),e.next=19;break;case 16:e.prev=16,e.t1=e["catch"](2),console.error(e.t1);case 19:return e.prev=19,this.loading=!1,e.finish(19);case 22:case"end":return e.stop()}},e,this,[[2,16,19,22]])}));return function(t){return e.apply(this,arguments)}}(),scroll:function(){this.loading||document.documentElement.offsetHeight!==document.documentElement.scrollTop+window.innerHeight||this.load()},createNewItem:function(){return JSON.parse(JSON.stringify(this.newItem))},editShowCb:function(e){this.show=e}},mounted:function(){this.load()}},we=be,ye=Object(d["a"])(we,ue,me,!1,null,null,null);ye.options.__file="ItemGrid.vue";var ge=ye.exports,_e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("DialogWrapper",{attrs:{headline:e.$t("user"),value:e.show},on:{save:e.save,cancel:e.cancel}},[n("v-flex",{attrs:{xs12:"",md6:""}},[n("v-text-field",{attrs:{label:e.$t("first name"),required:""},model:{value:e.item.firstName,callback:function(t){e.$set(e.item,"firstName",t)},expression:"item.firstName"}})],1),n("v-flex",{attrs:{xs12:"",md6:""}},[n("v-text-field",{attrs:{label:e.$t("last name"),required:""},model:{value:e.item.lastName,callback:function(t){e.$set(e.item,"lastName",t)},expression:"item.lastName"}})],1),n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:e.$t("email"),required:""},model:{value:e.item.email,callback:function(t){e.$set(e.item,"email",t)},expression:"item.email"}})],1),n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:e.$t("password"),type:"password",required:""},model:{value:e.item.password,callback:function(t){e.$set(e.item,"password",t)},expression:"item.password"}})],1),n("v-flex",{attrs:{xs12:""}},[n("v-select",{attrs:{label:e.$t("role"),items:e.roles,required:""},model:{value:e.item.role.roleId,callback:function(t){e.$set(e.item.role,"roleId",t)},expression:"item.role.roleId"}})],1)],1)},ke=[],$e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{value:e.value,persistent:"",scrollable:"",fullscreen:e.$vuetify.breakpoint.xsOnly,"max-width":"600px"},on:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"esc",27,t.key,"Escape"))return null;e.cancel()}}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline",domProps:{textContent:e._s(e.headline)}})]),n("v-card-text",[n("v-container",{attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{wrap:""}},[e._t("default")],2)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",flat:""},nativeOn:{click:function(t){e.cancel()}}},[e._v(e._s(e.$t("cancel")))]),n("v-btn",{attrs:{color:"primary",flat:""},nativeOn:{click:function(t){e.save()}}},[e._v(e._s(e.$t("save")))])],1)],1)],1)},Oe=[],Ce={props:{value:Boolean,headline:String},methods:{cancel:function(){this.$emit("input",!1),this.$emit("cancel")},save:function(){this.$emit("input",!1),this.$emit("save")}}},je=Ce,Pe=Object(d["a"])(je,$e,Oe,!1,null,null,null);Pe.options.__file="DialogWrapper.vue";var Se=Pe.exports,Ie={components:{DialogWrapper:Se},props:{show:Boolean,value:Object},data:function(){return{item:{role:{}}}},computed:{roles:function(){var e=this;return[1,2,3,4].map(function(t){return{text:e.$t("roles.".concat(t)),value:t}})}},watch:{show:function(e){e&&(this.item=JSON.parse(JSON.stringify(this.value)))}},methods:{cancel:function(){this.$emit("cancel"),this.$emit("show",!1)},save:function(){this.item.role.name=this.$t("roles.".concat(this.item.role.roleId)),this.$emit("input",this.item),this.$emit("show",!1)}}},Te=Ie,Ee=Object(d["a"])(Te,_e,ke,!1,null,null,null);Ee.options.__file="UserDialog.vue";var Ne=Ee.exports,Le={components:{ItemGrid:ge,UserDialog:Ne},data:function(){return{newItem:{role:{}},xhrs:{searchItems:ne,getItems:K,postItem:B,putItem:G,deleteItem:Q}}}},Ae=Le,Re=Object(d["a"])(Ae,k,$,!1,null,null,null);Re.options.__file="Administration.vue";var ze=Re.exports,De=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ItemGrid",{attrs:{xhrs:e.xhrs,"new-item":e.newItem,"i18n-key":"car","id-prop":"carId"},scopedSlots:e._u([{key:"headline",fn:function(t){var n=t.item;return[e._v("\n    "+e._s(n.name)+"\n  ")]}},{key:"default",fn:function(t){var r=t.item;return[n("dl",[n("dt",[e._v(e._s(e.$t("owner")))]),n("dd",[e._v(e._s(r.owner?r.owner.name:e.$t("N/A")))]),n("dt",[e._v(e._s(e.$t("certification")))]),n("dd",[e._v(e._s(e.$t("switch."+r.certification)))]),n("dt",[e._v(e._s(e.$t("revision period")))]),n("dd",[e._v(e._s(r.revisionPeriod))]),n("dt",[e._v(e._s(e.$t("last revision")))]),n("dd",[e._v(e._s(r.lastRevision))]),n("dt",[e._v(e._s(e.$t("last ZTE")))]),n("dd",[e._v(e._s(r.lastZTE))]),n("dt",[e._v(e._s(e.$t("last ZTL")))]),n("dd",[e._v(e._s(r.lastZTL))])])]}},{key:"edit",fn:function(e){var t=e.item,r=e.itemCb,s=e.show,a=e.showCb;return[n("CarDialog",{ref:"dialog",attrs:{value:t,show:s},on:{input:r,show:a}})]}}])})},Ue=[],Ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("DialogWrapper",{attrs:{headline:e.$t("car"),value:e.show},on:{save:e.save,cancel:e.cancel}},[n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:e.$t("name"),required:""},model:{value:e.item.name,callback:function(t){e.$set(e.item,"name",t)},expression:"item.name"}})],1),n("v-flex",{attrs:{xs12:""}},[n("RemoteSelect",{attrs:{"item-text":"name","item-value":"subjectId",label:e.$t("owner"),searchItems:e.searchOwners},model:{value:e.item.owner,callback:function(t){e.$set(e.item,"owner",t)},expression:"item.owner"}})],1),n("v-flex",{attrs:{xs12:""}},[n("RemoteSelect",{attrs:{"item-text":"serieId","item-value":"serieId",label:e.$t("serie"),searchItems:e.searchSeries},model:{value:e.item.serie,callback:function(t){e.$set(e.item,"serie",t)},expression:"item.serie"}})],1),n("v-flex",{attrs:{xs12:""}},[n("RemoteSelect",{attrs:{"item-text":"name","item-value":"subjectId",label:e.$t("service responsible person"),searchItems:e.searchServiceResponsiblePersons},model:{value:e.item.serviceResponsiblePerson,callback:function(t){e.$set(e.item,"serviceResponsiblePerson",t)},expression:"item.serviceResponsiblePerson"}})],1),n("v-flex",{attrs:{xs12:""}},[n("v-switch",{attrs:{label:e.$t("certification"),required:""},model:{value:e.item.certification,callback:function(t){e.$set(e.item,"certification",t)},expression:"item.certification"}})],1),n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:e.$t("revision period")},model:{value:e.item.revisionPeriod,callback:function(t){e.$set(e.item,"revisionPeriod",t)},expression:"item.revisionPeriod"}})],1),n("v-flex",{attrs:{xs12:""}},[n("DateTime",{attrs:{label:e.$t("last revision")},model:{value:e.item.lastRevision,callback:function(t){e.$set(e.item,"lastRevision",t)},expression:"item.lastRevision"}})],1),n("v-flex",{attrs:{xs12:""}},[n("DateTime",{attrs:{label:e.$t("last ZTE")},model:{value:e.item.lastZTE,callback:function(t){e.$set(e.item,"lastZTE",t)},expression:"item.lastZTE"}})],1),n("v-flex",{attrs:{xs12:""}},[n("DateTime",{attrs:{label:e.$t("last ZTL")},model:{value:e.item.lastZTL,callback:function(t){e.$set(e.item,"lastZTL",t)},expression:"item.lastZTL"}})],1)],1)},Je=[],Ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs6:""}},[n("v-menu",{attrs:{"close-on-content-click":!1,lazy:"",transition:"scale-transition","offset-y":"","full-width":""},model:{value:e.menus.date,callback:function(t){e.$set(e.menus,"date",t)},expression:"menus.date"}},[n("v-text-field",{attrs:{slot:"activator",label:e.label,readonly:""},slot:"activator",model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}),n("v-date-picker",{attrs:{type:"date"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},[n("v-spacer"),n("v-btn",{attrs:{flat:""},domProps:{textContent:e._s(e.$t("close"))},on:{click:function(t){e.menus.date=!1}}})],1)],1)],1),n("v-flex",{attrs:{xs6:""}},[n("v-menu",{attrs:{"close-on-content-click":!1,lazy:"",transition:"scale-transition","offset-y":"","full-width":""},model:{value:e.menus.time,callback:function(t){e.$set(e.menus,"time",t)},expression:"menus.time"}},[n("v-text-field",{attrs:{slot:"activator",label:e.$t("time"),readonly:""},slot:"activator",model:{value:e.time,callback:function(t){e.time=t},expression:"time"}}),n("v-time-picker",{attrs:{format:"24hr"},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}},[n("v-spacer"),n("v-btn",{attrs:{flat:""},domProps:{textContent:e._s(e.$t("close"))},on:{click:function(t){e.menus.time=!1}}})],1)],1)],1)],1)},We=[],qe={props:{value:String,label:String},data:function(){return{item:"T",menus:{date:!1,time:!1}}},computed:{date:{get:function(){return this.item.split("T")[0]},set:function(e){this.fillMissingItem(),this.item=e+"T"+this.time,this.$emit("input",this.item)}},time:{get:function(){return this.item.split("T")[1]},set:function(e){this.fillMissingItem(),this.item=this.date+"T"+e+this.item.substr(16),this.$emit("input",this.item)}}},watch:{value:function(e){this.item=e||"T"}},methods:{fillMissingItem:function(){"T"===this.item&&(this.item="1970-01-01T00:00:00")}},mounted:function(){this.item=this.value||"T"}},Fe=qe,Ke=Object(d["a"])(Fe,Ve,We,!1,null,null,null);Ke.options.__file="DateTime.vue";var Me=Ke.exports,Be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-autocomplete",{attrs:{"item-text":e.itemText,"item-value":e.itemValue,items:[e.value].concat(e.items),label:e.label,loading:e.loading,"search-input":e.search,"hide-details":"","hide-no-data":""},on:{"update:searchInput":function(t){e.search=t}},model:{value:e.select,callback:function(t){e.select=t},expression:"select"}})},He=[];function Ge(e,t,n,r,s,a,i){try{var o=e[a](i),c=o.value}catch(l){return void n(l)}o.done?t(c):Promise.resolve(c).then(r,s)}function Ye(e){return function(){var t=this,n=arguments;return new Promise(function(r,s){var a=e.apply(t,n);function i(e){Ge(a,r,s,i,o,"next",e)}function o(e){Ge(a,r,s,i,o,"throw",e)}i(void 0)})}}var Qe={props:{itemText:String,itemValue:String,label:String,searchItems:Function,value:Object},data:function(){return{loading:!1,search:null,items:[],searchTimeout:null}},computed:{select:{get:function(){return(this.value||{})[this.itemValue]},set:function(e){var t=this,n=this.items.find(function(n){return n[t.itemValue]===e});this.$emit("input",n)}}},watch:{search:function(e){e&&e!==(this.value||{})[this.itemText]&&this.querySelections(e)}},methods:{querySelections:function(e){var t=this;window.clearTimeout(this.searchTimeout),this.searchTimeout=window.setTimeout(Ye(C.a.mark(function n(){return C.a.wrap(function(n){while(1)switch(n.prev=n.next){case 0:return t.searchTimeout=null,n.prev=1,t.loading=!0,n.next=5,t.searchItems(e);case 5:t.items=n.sent,n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](1),console.error(n.t0);case 11:return n.prev=11,t.loading=!1,n.finish(11);case 14:case"end":return n.stop()}},n,this,[[1,8,11,14]])})),600)}}},Xe=Qe,et=Object(d["a"])(Xe,Be,He,!1,null,null,null);et.options.__file="RemoteSelect.vue";var tt=et.exports,nt={components:{DialogWrapper:Se,DateTime:Me,RemoteSelect:tt},props:{show:Boolean,value:Object},data:function(){return{item:{},searchOwners:se,searchSeries:ie,searchServiceResponsiblePersons:ce}},watch:{show:function(e){e&&(this.item=JSON.parse(JSON.stringify(this.value)))}},methods:{cancel:function(){this.$emit("cancel"),this.$emit("show",!1)},save:function(){this.$emit("input",this.item),this.$emit("show",!1)}}},rt=nt,st=Object(d["a"])(rt,Ze,Je,!1,null,null,null);st.options.__file="CarDialog.vue";var at=st.exports,it={components:{ItemGrid:ge,CarDialog:at},data:function(){return{newItem:{},xhrs:{searchItems:ee,getItems:D,postItem:V,putItem:Z,deleteItem:q}}}},ot=it,ct=Object(d["a"])(ot,De,Ue,!1,null,null,null);ct.options.__file="Cars.vue";var lt=ct.exports,ut=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-layout",{attrs:{"text-xs-center":"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("h1",{staticClass:"display-2 font-weight-bold mb-3",domProps:{textContent:e._s(e.$t("welcome"))}})])],1)],1)},mt=[],dt={},ft=Object(d["a"])(dt,ut,mt,!1,null,null,null);ft.options.__file="Home.vue";var pt=ft.exports,ht=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticStyle:{"max-width":"40em"}},[n("v-layout",{attrs:{"text-xs-center":"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("h1",{staticClass:"display-2 font-weight-bold mb-3",domProps:{textContent:e._s(e.$t("login"))}})]),n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:e.$t("username")},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.login(t):null}},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),n("v-flex",{attrs:{xs12:""}},[n("v-text-field",{attrs:{label:e.$t("password"),type:"password"},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.login(t):null}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),n("v-flex",{attrs:{xs12:""}},[n("v-btn",{attrs:{color:"primary"},domProps:{textContent:e._s(e.$t("log me in"))},on:{click:e.login}})],1),n("v-flex",{attrs:{xs12:""}},[n("span",{domProps:{textContent:e._s(e.error)}})]),n("v-flex",{attrs:{xs12:""}},[n("pre",{domProps:{textContent:e._s(e.debugLogins)}})])],1)],1)},vt=[],xt={data:function(){return{username:null,password:null,error:"",debugLogins:["admin - admin","externalUser - externalUser","manager - manager","serviceTechnician - serviceTechnician"].join("\n")}},methods:{login:function(){this.error="",this.username===this.password?(this.$store.commit("setRole",this.username),this.$router.push({name:"home"})):this.error=this.$t("logging in failed")}}},bt=xt,wt=(n("fb31"),Object(d["a"])(bt,ht,vt,!1,null,"21824a09",null));wt.options.__file="Login.vue";var yt=wt.exports,gt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticStyle:{"max-width":"40em"}},[n("v-layout",{attrs:{"text-xs-center":"",wrap:""}},[n("v-flex",{attrs:{xs12:""}},[n("h1",{staticClass:"display-2 font-weight-bold mb-3",domProps:{textContent:e._s(e.$t("logout"))}})]),n("v-flex",{attrs:{xs12:""}},[n("span",{domProps:{textContent:e._s(e.error)}})])],1)],1)},_t=[],kt={data:function(){return{error:""}},mounted:function(){this.$store.commit("setRole",null),this.error=this.$t("logged out")}},$t=kt,Ot=(n("21c3"),Object(d["a"])($t,gt,_t,!1,null,"1dcf82ea",null));Ot.options.__file="Logout.vue";var Ct=Ot.exports;r["default"].use(h["a"]);var jt=new h["a"]({routes:[{path:"/",redirect:"/login"},{path:"/login",name:"login",component:yt},{path:"/logout",name:"logout",component:Ct},{path:"/home",name:"home",component:pt},{path:"/cars",name:"cars",component:lt},{path:"/administration",name:"administration",component:ze},{path:"/about",name:"about",component:_}]});jt.beforeEach(function(e,t,n){var r=e.name;x.commit("clearAlert"),x.getters.allowedRouteNames.includes(r)?n():n({name:"login"})});var Pt=jt,St=(n("d5e8"),n("5363"),n("a925"));function It(){var e=n("9abb"),t={};return e.keys().forEach(function(n){var r=n.match(/([A-Za-z0-9-_]+)\./i);if(r&&r.length>1){var s=r[1];t[s]=e(n)}}),t}r["default"].use(St["a"]);var Tt=new St["a"]({locale:"cs",fallbackLocale:"en",messages:It()});r["default"].config.productionTip=!1,new r["default"]({router:Pt,store:x,i18n:Tt,render:function(e){return e(p)}}).$mount("#app")},"64a9":function(e,t,n){},"73a3":function(e,t,n){},"9abb":function(e,t,n){var r={"./cs.yml":"aa95","./en.yml":"eb57"};function s(e){var t=a(e);return n(t)}function a(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}s.keys=function(){return Object.keys(r)},s.resolve=a,e.exports=s,s.id="9abb"},aa95:function(e,t){e.exports={roles:{1:"Administrátor",2:"Externí subjekt",3:"Manažer",4:"Servisní technik"},switch:{false:"Ne",true:"Ano"},xhrs:{car:{delete:{error:"Vůz se nepodařilo smazat.",success:"Vůz byl smazán."},post:{error:"Vůz se nepodařilo vytvořit.",success:"Vůz byl vytvořen."},put:{error:"Údaje vozu se nepodařilo změnit.",success:"Údaje vozu byly změněny."}},user:{delete:{error:"Uživatele se nepodařilo smazat.",success:"Uživatel byl smazán."},post:{error:"Uživatele se nepodařilo vytvořit.",success:"Uživatel byl vytvořen."},put:{error:"Údaje uživatele se nepodařilo změnit.",success:"Údaje uživatele byly změněny."}}},"N/A":"Není k dispozici",administration:"Administrace",cancel:"Zrušit",car:"Vůz",cars:"Vozy",certification:"Certifikace",close:"Zavřít","confirm delete":"Skutečně tohle chcete smazat?",delete:"Smazat",edit:"Upravit",email:"Email","first name":"Jméno",home:"Hlavní stránka","last ZTE":"Poslední ZTE","last ZTL":"Poslední ZTL","last name":"Příjmení","last revision":"Poslední revize","log me in":"Přihlásit","logged out":"Úspěšně odhlášeno","logging in failed":"Přihlášení selhalo",login:"Přihlášení",logout:"Odhlášení",name:"Název",ok:"OK",owner:"Vlastník",password:"Heslo","required field":"Vyžadovaná položka","revision period":"Četnost revizí",role:"Role",save:"Uložit",serie:"Série","service responsible person":"Osoba odpovědná za opravy",time:"Čas",user:"Uživatel",username:"Uživatelské jméno",welcome:"Vítejte"}},bf7f:function(e,t,n){},eb57:function(e,t){e.exports={roles:{1:"Administrator",2:"External user",3:"Manager",4:"Service technician"},switch:{false:"No",true:"Yes"},xhrs:{car:{delete:{error:"Car deletion failed.",success:"Car was deleted."},post:{error:"Car creation failed.",success:"Car was created."},put:{error:"Car's data update failed.",success:"Car's data were updated."}},user:{delete:{error:"User deletion failed.",success:"User was deleted."},post:{error:"User creation failed.",success:"User was created."},put:{error:"User's data update failed.",success:"User's data were updated."}}},"N/A":"Not available",administration:"Administration",cancel:"Cancel",car:"Car",cars:"Cars",certification:"Certification",close:"Close","confirm delete":"Do you really want to delete this?",delete:"Delete",edit:"Edit",email:"Email","first name":"First name",home:"Home","last ZTE":"Last ZTE","last ZTL":"Last ZTL","last name":"Last name","last revision":"Last revision","log me in":"Login","logged out":"You've been logged out","logging in failed":"Loggin in failed",login:"Login",logout:"Logout",name:"Name",ok:"Okay",owner:"Owner",password:"Password","required field":"Required field","revision period":"Reivion period",role:"Role",save:"Save",serie:"Serie","service responsible person":"Service responsible person",time:"Time",user:"User",username:"Login",welcome:"Welcome"}},fb31:function(e,t,n){"use strict";var r=n("bf7f"),s=n.n(r);s.a}});
//# sourceMappingURL=app.88e52339.js.map